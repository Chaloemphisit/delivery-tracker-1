(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{352:function(t,e,a){var r=a(362);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(38).default)("b43f8a84",r,!1,{sourceMap:!1})},357:function(t,e,a){t.exports=a.p+"img/nocanvas.d987a08.png"},358:function(t,e,a){t.exports=a.p+"img/nocanvas_failed.8db756e.png"},361:function(t,e,a){"use strict";var r=a(352);a.n(r).a},362:function(t,e,a){(t.exports=a(37)(!1)).push([t.i,".fold-enter-active[data-v-f0da715c],.fold-leave-active[data-v-f0da715c]{transition:display .9s,opacity .6 ease-in-out .5s}.fold-enter[data-v-f0da715c],.fold-leave-to[data-v-f0da715c]{opacity:0;display:none}#tracker[data-v-f0da715c]{max-width:769px;width:100%;margin:0 auto}.tracking-header[data-v-f0da715c]{width:100%;padding:0;position:relative;background-color:#fff;border-bottom:1px solid hsla(204,2%,59%,.19)}.tracking-header .tracking-title[data-v-f0da715c]{background-color:#c6c6c6;height:3.75rem}.tracking-header .tracking-title h1[data-v-f0da715c]{position:relative;top:50%;transform:translateY(-50%);font-size:1.25rem;letter-spacing:.25rem;color:#fff}.tracking-header .tracking-status[data-v-f0da715c]{height:4.125rem;min-height:4.125rem}.tracking-header .tracking-status h1[data-v-f0da715c]{position:relative;top:50%;transform:translateY(-50%);font-size:.875rem;line-height:1.14;letter-spacing:.25rem;color:#e24949}.tracking-header .tracking-illustration[data-v-f0da715c]{margin-bottom:2.938rem}.tracking-header .tracking-illustration img[data-v-f0da715c]{width:88%}.tracking-progresses[data-v-f0da715c]{background-color:#fff;margin-bottom:.4375rem}.tracking-progresses .fold-button[data-v-f0da715c]{display:block;height:2.688rem;min-height:2.688rem;margin:0 1.625rem;font-size:.875rem;line-height:1.14;letter-spacing:.25rem;color:gray}.tracking-progresses .fold-button div[data-v-f0da715c]{position:relative;top:50%;transform:translateY(-50%)}.tracking-progresses .tracking-progress-entry[data-v-f0da715c]{padding:1.625rem;padding-bottom:1.063rem}.tracking-progresses .tracking-progress-entry[data-v-f0da715c]:last-child{padding-bottom:0}.tracking-progresses .tracking-progress-entry time[data-v-f0da715c]{font-size:.75rem;line-height:1.17;text-align:left;color:#585858}.tracking-progresses .tracking-progress-entry li[data-v-f0da715c]{display:flex;flex-flow:row nowrap;padding:.875rem 0;margin:0;border-bottom:1px solid hsla(204,2%,59%,.19)}.tracking-progresses .tracking-progress-entry li .desc[data-v-f0da715c],.tracking-progresses .tracking-progress-entry li .loc[data-v-f0da715c]{flex-basis:0}.tracking-progresses .tracking-progress-entry li .desc p[data-v-f0da715c]:first-child,.tracking-progresses .tracking-progress-entry li .loc p[data-v-f0da715c]:first-child{font-size:.8125rem;color:#585858;padding-bottom:.1875rem}.tracking-progresses .tracking-progress-entry li .desc p[data-v-f0da715c]:last-child,.tracking-progresses .tracking-progress-entry li .loc p[data-v-f0da715c]:last-child{font-size:.625rem;line-height:1.1;color:#6f6f6f}.tracking-progresses .tracking-progress-entry li .loc[data-v-f0da715c]{flex-grow:1}.tracking-progresses .tracking-progress-entry li .desc[data-v-f0da715c]{flex-grow:2}.tracking-progresses .tracking-progress-entry li .desc p[data-v-f0da715c]{text-align:right}.tracking-info[data-v-f0da715c]{background-color:#fff}.tracking-info .tracking-info-title[data-v-f0da715c]{height:2.688rem;min-height:2.688rem;border-bottom:1px solid hsla(204,2%,59%,.19)}.tracking-info .tracking-info-title h2[data-v-f0da715c]{position:relative;top:50%;transform:translateY(-50%);font-size:.875rem;line-height:1.14;letter-spacing:.25rem;color:gray}.tracking-info ul[data-v-f0da715c]{list-style:none;padding:1.625rem}.tracking-info ul li[data-v-f0da715c]{display:flex;flex-flow:row nowrap;padding:.4375rem 0}.tracking-info ul li h5+p[data-v-f0da715c],.tracking-info ul li h5[data-v-f0da715c]{display:inline;flex-basis:0;font-size:.8125rem}.tracking-info ul li h5[data-v-f0da715c]{flex-grow:1;color:#a2a2a2}.tracking-info ul li p[data-v-f0da715c]{flex-grow:2.5;color:#585858}",""])},365:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"tracker"}},[r("b-loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),r("header",{staticClass:"column tracking-header"},[t._m(0),t._v(" "),r("div",{staticClass:"tracking-status"},[null===t.error?r("h1",{staticClass:"has-text-centered"},[t._v("\n        "+t._s(t.info.state.text)+"\n      ")]):r("h1",{staticClass:"has-text-centered"},[t._v("추적실패")])]),t._v(" "),r("div",{staticClass:"tracking-illustration has-text-centered"},[null===t.error?r("img",{attrs:{src:a(357),alt:"No Canvas"}}):r("img",{attrs:{src:a(358),alt:"No Canvas Failed"}})]),t._v(" "),null!==t.error?r("b-message",{attrs:{type:"is-danger"}},[t._v("\n      "+t._s(t.error.message)+"\n    ")]):t._e()],1),t._v(" "),null===t.error?r("div",{staticClass:"tracking-detail"},[r("section",{staticClass:"tracking-progresses"},[r("transition-group",{attrs:{name:"fold"}},t._l(t.progresses,function(e,a){return r("div",{key:a,staticClass:"tracking-progress-entry"},[r("time",[t._v(t._s(t.beautifyDate(a)))]),t._v(" "),r("ul",t._l(e,function(e){return r("li",{key:e.id},[r("div",{staticClass:"loc"},[r("p",[t._v(t._s(e.location.name))]),t._v(" "),r("p",[t._v(t._s(t.getTime(e.time)))])]),t._v(" "),r("div",{staticClass:"desc"},[r("p",[t._v(t._s(e.status.text))]),t._v(" "),r("p",[t._v(t._s(e.description))])])])}))])})),t._v(" "),r("transition-group",{directives:[{name:"show",rawName:"v-show",value:!t.isProgressTooShort,expression:"!isProgressTooShort"}],attrs:{name:"fold"}},[r("a",{key:"test1",staticClass:"fold-button has-text-centered",on:{click:function(e){t.fold=!t.fold}}},[t.fold?r("div",[t._v("더보기 "),r("i",{staticClass:"fas fa-angle-down"})]):r("div",[t._v("간략히 보기 "),r("i",{staticClass:"fas fa-angle-up"})])])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isProgressTooShort,expression:"isProgressTooShort"}],staticClass:"fold-button"})],1),t._v(" "),r("section",{staticClass:"tracking-info"},[t._m(1),t._v(" "),r("ul",[t.info.to.name?r("li",[r("h5",[t._v("받는 사람")]),t._v(" "),r("p",[t._v(t._s(t.info.to.name))])]):t._e(),t._v(" "),r("li",[r("h5",[t._v("택배사")]),t._v(" "),r("p",[t._v(t._s(t.carrier.name)+" ("+t._s(t.formatNumber(t.carrier.tel,"International"))+")")])]),t._v(" "),r("li",[r("h5",[t._v("송장번호")]),t._v(" "),r("p",[t._v(t._s(t.track))])]),t._v(" "),t.info.from.name?r("li",[r("h5",[t._v("보낸 사람")]),t._v(" "),r("p",[t._v(t._s(t.info.from.name))])]):t._e()])])]):t._e(),t._v(" "),t._m(2)],1)};r._withStripped=!0;var s=a(349),i=a.n(s),o={data:function(){return{carrier:{name:"",tel:""},track:"",info:{from:{name:"",time:""},to:{name:"",time:""},state:{id:"",text:""},progresses:[]},progresses:{},fold:!0,isProgressTooShort:!1,isLoading:!0,error:null}},beforeMount:function(){this.fetchData()},watch:{$route:function(){this.fetchData()},fold:function(){this.progresses=this.fold&&!this.isProgressTooShort?this.getProgressesByDate(this.info.progresses.slice(this.info.progresses.length-3)):this.getProgressesByDate(this.info.progresses)}},methods:{beautifyDate:function(t){return t.replace(/\-/g,".")},getTime:function(t){var e="";try{e=new Date(t).toLocaleString("ko-KR",{hour:"numeric",minute:"numeric"})}catch(t){e="알 수 없는 시간"}return e},formatNumber:a(363).a,fetchData:function(){var t=this,e=void 0,a=void 0;try{var r=/#!?\/(\w+.\w+)\/(\d+)/.exec(this.$route.hash),s=i()(r,3);e=s[1],a=s[2]}catch(t){return void this.goGuide()}this.isLoading=!0,this.error=null,this.$axios.get("/carriers/"+e+"/tracks/"+a).then(function(e){return t.carrier=e.data.carrier,t.track=a,t.info=e.data,e.data.progresses}).then(function(e){t.isProgressTooShort=e.length<=3,t.progresses=t.getProgressesByDate(t.isProgressTooShort?e:e.slice(e.length-3)),t.isLoading=!1}).catch(function(e){t.error={statusCode:e.response.status,message:e.response.data.message?e.response.data.message:"알 수 없는 에러입니다!"},t.isLoading=!1})},getProgressesByDate:function(t){var e={};return t.slice().sort(function(t,e){return t.time>e.time?-1:t.time<e.time?1:0}).forEach(function(t){var a=t.time.substr(0,10);a in e||(e[a]=[]),e[a].push(t)}),e},goGuide:function(){alert("가이드로 이동합니다."),this.$router.replace("/guide")}}},n=(a(361),a(21)),c=Object(n.a)(o,r,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tracking-title"},[e("h1",{staticClass:"has-text-centered"},[this._v("배송조회")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tracking-info-title"},[e("h2",{staticClass:"has-text-centered"},[this._v("기본정보")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"20px",color:"#585858","font-size":"0.8125rem"}},[e("a",{staticClass:"github-button",attrs:{href:"https://github.com/shlee322/delivery-tracker","data-icon":"octicon-star","data-show-count":"true","aria-label":"Star shlee322/delivery-tracker on GitHub"}},[this._v("Star")]),this._v("\n    Copyright (C) "),e("a",{attrs:{href:"https://tracker.delivery"}},[this._v("https://tracker.delivery")]),this._v(" "),e("script",{attrs:{async:"",defer:"",src:"https://buttons.github.io/buttons.js"}})])}],!1,null,"f0da715c",null);c.options.__file="index.vue";e.default=c.exports}}]);